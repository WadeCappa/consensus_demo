syntax = "proto3";
option go_package = "github.com/WadeCappa/consensus/pkg/go/kvstore/v1;kvstorepb";

package kvstore;

service kvstore {
  rpc Put (PutRequest) returns (PutResponse) {}
  rpc Get (GetRequest) returns (stream GetResponse) {}
}

message PutRequest {
  string key = 1;
  bytes update = 2;
}

message PutResponse {}

message GetRequest {
  string key = 1;
}

message GetResponse {
  bytes data = 1;
  uint64 nodeId = 2;
  uint64 version = 3;
  uint64 writeTimeUnixMillis = 4;
}
